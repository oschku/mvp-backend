---
phases: 
  build: 
    commands: 
      - "echo Build started on `date`"
      - "echo Building the Docker image..."
      - "docker build -t oschku/mvp-backend ."
      - "docker tag oschku/mvp-backend 740126133497.dkr.ecr.eu-north-1.amazonaws.com/valuation-backend"
  post_build: 
    commands: 
      - "echo Build completed on `date`"
      - "echo Pushing the Docker image..."
      - "docker push 740126133497.dkr.ecr.eu-north-1.amazonaws.com/valuation-backend"
  pre_build: 
    commands: 
      - "echo Logging in to AWS...."
      - "docker login -u AWS -p eyJwYXlsb2FkIjoiZ1UvMnJVRTlWVFFrekhETkx4d3VkNW13cUlQOVF6aHpnekI4L1d4cUdDaEh6WmgrSUtNaFU3dXZwc1IvVFR3TnJmams0dFNKWW1iVEF3K1E2clBZTVdKc0JPWitxdVROOEZlL3YwNGNCN0gwUFFmNlB1SnV3NmtJcTNGVzUwWWp2d2lxWTl0bWlJSjA4ZFZiVnlFTVdKc0wwK1pWNDh5c2syaTJvN3RqVE1VZ1kvSDlVWUF2SnFOS1JlSVRFclpGTWxkckZYUDlrTUhDSEhEcnp6QjU5Y0poY0oxRFhsRWg2eXgzU1lZMS9URkFRVXFWWllpQlNYVmtYK2pJNjRqWWZSWk9mVjhWOU5XVE1neEZLN1pKdk1JUHkwNm5QQVZrRHJDOWJERHRMWUZ1OHo2cjZlbUxoUWVUVURSTnZGdTRsYjJpRjZCSEh4Sk5EaE1HZWhvL3hhWlpKZVF5L3BNUmg3MUJUcFpsNERZU2hTa0NsdFkwSHFDZGdiaFRUWGpBaE1JdWxXeTY4VDdiNlREZDBENnV2MDNYT3RGdHA4Y2lrQ2tMcklrczhtNlhsY1lwTHI0aEU1Y1RzMm9oNU9GTDU5aTNTZFo0dm9VSDBTUXVnQWo2Y3pzZXZiNEducG9WdzBPcUtMSGdRU0FWM2gxdW41YjZ5cDM3bW9UUGpQbGt0alRHSDh5bDRTSUlWWlE4RGZKYzJoT1pNNXRzRFNyVXYycmkwTjZOQWJlYkRJVW9Fa1RxcFdDTDNXM2sxaUwyM0R1aS9OczE3M21wbEdEK2RMay9mZWJuUTU3TjBwQjZpSFJRZ1F2a2ZhTzNCMm9NSm1PKzF1cFVRMENHWDViVUJNRVZpTEs3aXk0YjNDYXJwQ0pZeVdIVzV3V0dHdkZ5ejJLYXJLNGFBbTFCMFdGQTlFaXZjWjZ5ZWFNcE5OVXRteHRySU1zM2JnNW5qTWRFa1NhUjMrNFhYUWZJSHdUSlVReGR5QjcrQ2U5cjR1OTFzMlE1TW5FSUV1cWorZTRzWjJpdW9jUUxpeHZWT3hpaWNtRENTdW9CNC83MzVSaEd4VDVCNWFqTVlLc0Fod1V2SFVnZHpMSktBUjZFMFFQTUVnMkIzNlhHMXlycE1USDI0Rjh3ajQ3V1MxNHNUeHEzYjdUWnNYQ0c2YytmUk5LRHFsT2hVT2MwRDFyWlZpTUxOVXJZOHgwSXZmMFdqYXE4NFZkazFYRzFlL25JNzR3c0lOazMrNWR2eU1mRy9hbFZMZlJQZkFsUVBMM3ZZSU9IaXlOdEVVdzNZZTFxaEJ6THNzRzk3T1E0QnRramdNZ25xSU1Mb0lyWW9SSnFRWTN4MnkwVExIa1U4dGpGIiwiZGF0YWtleSI6IkFRSUJBSGhmckZRMmFJSXdGNVZjNzlSSEVQR25jVVd1cjIvSnpNOHQvWnpvRXRSckFnRXlrTVUweU1qejF2aXNCSkR5dDFtRUFBQUFmakI4QmdrcWhraUc5dzBCQndhZ2J6QnRBZ0VBTUdnR0NTcUdTSWIzRFFFSEFUQWVCZ2xnaGtnQlpRTUVBUzR3RVFRTS9UMmpoWXE0KzVUM3ByVmxBZ0VRZ0R0T2w1eTJmVEg5cUlJT05vTklKeVZWUjMyVjMzZGVJN21NaFI3R1NuSWEyM3d1bkRiK3RiaGwxZjZWQ21jN0doMjZIdzdDMUtTQUFOUUpYQT09IiwidmVyc2lvbiI6IjIiLCJ0eXBlIjoiREFUQV9LRVkiLCJleHBpcmF0aW9uIjoxNjUzNjQxMzkzfQ== 740126133497.dkr.ecr.eu-north-1.amazonaws.com"
artifacts:
  files: 
    - "**/*"
  name: "s3-to-s3-latest-build.zip" 
version: 0.1

