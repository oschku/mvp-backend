---
phases: 
  build: 
    commands: 
      - "echo Build started on `date`"
      - "echo Building the Docker image..."
      - "docker build -t oschku/mvp-backend ."
      - "docker tag oschku/mvp-backend 740126133497.dkr.ecr.eu-north-1.amazonaws.com/valuation-backend"
  post_build: 
    commands: 
      - "echo Build completed on `date`"
      - "echo Pushing the Docker image..."
      - "docker push 740126133497.dkr.ecr.eu-north-1.amazonaws.com/valuation-backend"
  pre_build: 
    commands: 
      - "echo Logging in to AWS...."
      - "docker login -u AWS -p eyJwYXlsb2FkIjoiaWFsUjZWMUFDNjM0OWVtaHMvOTMxY0EzR3JIaFVHbTVWN3ZzZ01saUlSRnZic2hFMUVwWjg5SlliSEtSNnp2YXhhVUFTSXZpemhNY3pZak5EMGh2d0hxeHBOOWFKYU1NTEh5V3lkZmJEeUFwVE9aL0l1THhndWtvN21VdkNtVWpwWnh1bjhOOHBwdjh3TnVhcjlLVUR3TTVtamFLRWpJdkFKbzFyZkR6TzFlU2ZtbTlFODFuTE5FK0dWTExIVzJpb3k2QWQvTm9yRmhYWEtqTk53Y01HQ3B1Qmx5VTBseEhIbHgzWit2T0Q2Z2E4elg0V1FPU3B5c2h0ZTVRdHZyU0tXNWQxMlhYRmp3RXE4ZkI3NCtEOFdJSm54UzFaYWl2OHU4YVBtd3lWUFR4cjlDVlU2cnFaL2RoTi9xVWkrYlBYRFJPdjBTZlBhSStyeEZwdDIxUTdMOERyZ1lYdW10ajJQYzRCQXEvT200VUpwYW04cFd5R3A4d3EvQU9RRm9TTXA1QWVRTG43dEJmbzAyRnAydXVDUHVnQ0ZROTk1bkZaVnIzR3c3eEhSdzJuYmVkY1NxR1g2OXBmNGVZNDNrN1pJRE1leWcxRDJhQlFYZ2lPOCt2czRkWHFQZ09HZkhCUW53RlpWcTdyRHQyaXdYUE5MdzFFci9yQ0ZlRjNwVng3Y3c0MVoyc0FoSktRNU1zL2FrR1pSWFR1dlY1MUpqNkx5R0JaQndaaWZZZDJ5TkdQN29BeFNBZmtaRkh5aHowUzE3aDhtNUEzdTNycGwvZmpxRU9jK3huTzJmQTF4a2FsMThxazBUcXhpWWI1ZUJQM21BTk83UnUwaGNlN0FXNm4rUnBWVGlVc1N0K0dWMnduNVRNcWQ3bzJzRFJsSnJUWmw5cUppbWQ5NzRzMDQ1WUM2aTNZaUpYMm5HMVgwVlJQMkthMHg0NVlEQks3V3AxNTRYbzR1U3QyRFNDMzdWelRhZk9tTVNFY0VlTFRaTzVDd2JLcUpYSXk0MldLMXlWMzJUZ1RmY2hPekNYM3VoazBQejQwMWVNNjMwdlE1dlJnUUk3Nnc0U1lmWmR1M2pQUTh0WW5KWGpJTUYwZ0pJV21za21nN2xxQWRqUkNqV0J3dWV2U2lHeFVlWGhaVEdiVXFCOVVnRnpySkxSNk93ck8zKzVMdUFZVjFldmtNSllHSEY3dlp2TWNzdVdDN21LekZ5UnE4bVR4WDN2WHJNTzJUUTFodTZsM2xNa0IzT1N3ZDU4WUtUdWVsWTkyVnBNcmxHSEpod0Z4LzQrNndmdjBKSFRjY2tFMERhbWV5ZlNHUU1sUlpYa1B4Z25WQUxUb2hlWGFGb0Q1REEzaC85REcvb1VDY01oaTlOKzR0b3M3cWgzdFRteDQ0YzJQc3JOcS82QjBQNzlQbVVaOS9PTTNlcTdsU0czTitPNjFocXlaalVxYXpYSUpwWTQyUW9FKzQ1emRWQWpwUUFJbUwwdkRRPT0iLCJkYXRha2V5IjoiQVFJQkFIaGZyRlEyYUlJd0Y1VmM3OVJIRVBHbmNVV3VyMi9Kek04dC9aem9FdFJyQWdGOUxQY0N1djg4RWxneDl3bmhZS1VjQUFBQWZqQjhCZ2txaGtpRzl3MEJCd2FnYnpCdEFnRUFNR2dHQ1NxR1NJYjNEUUVIQVRBZUJnbGdoa2dCWlFNRUFTNHdFUVFNVnVIalVkMXBnaEpYV0oyQUFnRVFnRHRsU2dSdWg3MkdMZGRIOGcrdnVNY3NxTlhTd0RtUjNmRndkUjRpSHRBMWV2eTI1NklldG9aak9XQTdvNEJvT0xiM1FJbkd3OFp3YjNZWkV3PT0iLCJ2ZXJzaW9uIjoiMiIsInR5cGUiOiJEQVRBX0tFWSIsImV4cGlyYXRpb24iOjE2MTQwNDQyNTV9 740126133497.dkr.ecr.eu-north-1.amazonaws.com"
artifacts:
  files: 
    - "**/*"
  name: "s3-to-s3-latest-build.zip" 
version: 0.1

